<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script src="index_files/hm.js"></script><script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta content="360doc" name="classification"><link rel="alternate" media="only screen and (max-width: 640px)" href="http://www.360doc.cn/article/17283_514054063.html"><meta content="vmdata,内存,kb" name="keywords"><meta content="Linux内存泄漏查询方法proc/status解释" name="description"><meta name="mobile-agent" content="format=html5;url=http://www.360doc.cn/article/17283_514054063.html"><meta content="Linux内存泄漏查询方法proc/status解释 在测试，特别是性能测试或者系统的稳定性测试中，内存的使用情况是一个很重要的监控点，不管是从资源使用的角度还是从发现内存泄露问题的角度。cat /proc/`ps -ef|grep hello | grep -v grep | awk ''{print $2}''`/status | grep -E ''VmSize|VmRSS|VmData|VmStk|VmExe|VmLib''在这里我们关注VmSize|VmRSS|VmData|VmStk|VmExe|VmLib 这个6个指标，下面有一些简单的解释。VmData:  1200064 kB." name="360docabstract"><meta content="www.360doc.com" name="author"><title>
	Linux内存泄漏查询方法proc/status解释
</title>
    <script type="text/javascript" language="javascript"><!--
/* Script removed by snapshot save */
--></script>
    <script src="index_files/jquery1.js" type="text/javascript" charset="utf-8"></script>
    <script src="index_files/indexhead.js" type="text/javascript" charset="utf-8"></script><script src="index_files/chat.js" type="text/javascript"></script><script src="index_files/chatuserlist.js" type="text/javascript"></script><link href="index_files/chat.css" type="text/css" rel="stylesheet">
    <script src="index_files/showarticlefollow20160329.js" type="text/javascript" charset="utf-8"></script>
    <script src="index_files/jQuery.md5.min.js" type="text/javascript" charset="utf-8"></script>
    
    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
    <link rel="stylesheet" type="text/css" href="index_files/wzhead-cleaned.css"><link rel="stylesheet" type="text/css" href="index_files/newArticle20160509.css"><script src="index_files/share.js"></script><script src="index_files/EssayforIE120425.js" type="text/javascript"></script><link type="text/css" rel="styleSheet" href="index_files/unnamed.css"></head>
<body onmouseup="" onclick="">
    
    <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
    <script type="text/javascript" src="index_files/i.js"></script>
    
    <span id="LayerLogin"></span>
    <div style="position: fixed; width: 100%; z-index: 2147483647; left: 0;">
        <div style="width: 100%;" class="mainnav">
            <div class="mainnav1">
                <div class="lf360" style="padding-left: 5px;">
                    <a href="http://www.360doc.com/index.html">
                        <img src="index_files/logoo.gif"></a>
                </div>
                <div style="width: 625px; padding-top: 0px; padding-left: 4px; position: absolute;">
                    <table border="0" cellpadding="0" cellspacing="0" height="34">
                        <tbody>
                            <tr id="daohangtr">
                                <td style="width: 185px; _width: 0px; *width: 0px !important;"></td>
                                <td class="navwz1" width="95">
                                    <a href="http://www.360doc.com/index.html">首 页</a>
                                </td>
                                <td class="  navwz1" width="100">
                                    <a href="http://www.360doc.com/readroom.html">阅览室</a>
                                </td>
                                <td class="  navwz1" width="88">
                                    <a href="http://www.360doc.com/weekstar.html">馆友</a>
                                </td>
                                <td class="  navwz1" width="132">
                                    <a href="http://www.360doc.com/my360doc.aspx">我的图书馆</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="rt360" style="padding-top: 6px; width: 133px; padding-left: 38px;" id="outerdiv"><div class="denglbj lan2"><div style="width: 43px; float: left; text-align: center; background-color: rgb(252, 252, 252);" onmouseover="" onmouseout=""><a href="javascript:void(0);" onclick="">登录</a></div><div style=" width:1px; float:left; "></div><div style="width: 46px; float: left; text-align: center; margin-left: 1px; background-color: rgb(252, 252, 252);" onmouseover="" onmouseout="" id="regdiv"><a href="http://www.360doc.com/register.aspx?refer=800" target="_blank">注册</a></div><div class="boxwid xinngdui" id="bfdiv"><a href="#"><img id="imgbfabc" src="index_files/5.gif"></a></div><div style="position: absolute; margin-left: 35px; width: 96px; z-index: 200; display: none;" id="func"><div class="tugduo3" id="divfunc" style="cursor:pointer;float:right; width:41px;"><div style=" height:26px; width:39px; border:1px solid #d4d4d4; border-bottom:none; background-color:#fff;"></div></div><div class="tipzhu3  right hui2" id="layerdiv"><ul><li><a href="http://www.360doc.com/advice.html" target="_blank">留言交流</a></li><li><a href="http://www.360doc.com/helpnew.html" target="_blank">网文摘手</a></li><li><a href="http://www.360doc.com/mobilapp.htm" target="_blank">手机客户端</a></li><li style=" border:none;"><a href="http://www.360doc.com/help.html" target="_blank">帮助</a></li></ul></div></div></div></div>
                <div class=" rt360" style="padding-top: 6px; padding-right: 0px;">
                    <div class="lf360 serch">
                        <input name="input2" class="serchpt" id="txtSearchword" onkeydown="" onkeyup="" onfocus="" onblur="" onpaste="" value="搜文章 找馆友" type="text">
                    </div>
                    <div class="lf360 ssuo">
                        <a id="searchlinkid" href="javascript:void(0);"></a>
                    </div>
                    <div id="divsearch" style="margin-top: 25px; margin-left: 1px; display: none; position: absolute; z-index: 100;">
                    </div>
                </div>
            </div>
        </div>
        <div style="width: 100%;" class="navxt">
        </div>
    </div>
    <div style="height: 44px; _height: 0px; width: 100%;"></div>
    <div class="both"></div>

    <div style="width: 1018px;" class="doc360article_content">

        <div style="height: 90px; padding-top: 13px;">
            <div id="ADAboveArtContent"><iframe marginwidth="0" marginheight="0" scrolling="no" src="index_files/aboveConentAD2.htm.html" frameborder="0" height="90" width="1012"></iframe></div>
        </div>
        <p class="clearboth"></p>
        <div style="width: 688px;" class="a_left">
            <div style="width: 662px;" class="mainbj6" id="bgchange">
                <div class="fontsize_bgcolor_controler">
                    <div class="a_bgcolor">
                        <img src="index_files/bgcolor.jpg">
                        <div class="a_colorlist">
                            <span class="a_color1" onclick="">
                                <img src="index_files/yes.gif"></span>
                            <span class="a_color2" onclick="">
                                <img src="index_files/yes.gif"></span>
                            <span class="a_color3" onclick="">
                                <img src="index_files/yes.gif"></span>
                            <span class="a_color4" onclick="">
                                <img src="index_files/yes.gif"></span>
                            <span class="a_color5" onclick="">
                                <img src="index_files/yes.gif"></span>
                            <span class="a_color6" onclick="">
                                <img src="index_files/yes.gif"></span>
                        </div>
                    </div>
                    <div class="a_fontsize">
                        <img src="index_files/fontSize.jpg">
                        <div class="fschange">
                            <label>
                                <input name="font_Size" id="" value="18" onclick="" type="radio">大
                           
                            </label>
                             
                           
                            <label>
                                <input checked="checked" name="font_Size" id="" value="16" onclick="" type="radio">中
                           
                            </label>
                             
                           
                            <label>
                                <input name="font_Size" id="" value="14" onclick="" type="radio">小
                           
                            </label>
                        </div>
                    </div>
                </div>
                <h2 id="titiletext">Linux内存泄漏查询方法proc/status解释</h2>
                <div class="article_data">
                    <div class="article_data_left">
                        2015-11-18
                        <span class="a_username"> <a href="http://www.360doc.com/userhome/17283" id="savernickname" target="_blank" onclick="">erran</a>
                        </span>
                        <span id="articleinfo">
                            <span id="docsource" class="a_from"> <a href="http://m.blog.csdn.net/blog/luopeiyuan1990/42459025" target="_blank" onclick="">文章来源</a></span><span id="360doc_Readnum">  阅 121 </span><span style="display: none;" id="360docResaveCount"><span onclick="" id="360doc_saverNum" style="cursor: pointer;"></span>
                                <span id="360doc_saverUser">
                                    <div style="position: absolute; height: 305px; width: 144px; left: 0px; z-index: 2; display: none;" id="sameArtOuter">
                                        <div onclick="" style="overflow-y: auto; height: 300px; overflow-x: hidden; z-index: 100; right: 0px; margin-top: -10px;" id="sameArt">
                                        </div>
                                    </div>
                                </span>
                            </span>
                        </span>
                    </div>
                    <div data-bd-bind="1464070234140" id="resavelayer1" class="bdsharebuttonbox article_data_right bdshare-button-style0-16"><div class="zcommond"><a class="p2" href="javascript:void(0);" onclick="">转藏到我的图书馆</a><div class="s2 f_right" onclick=""><span onclicl="wzhitnew(5);"></span></div><a class="p1" href="javascript:void(0);" onclick="">微信</a> <span style="" class="s1" onclick="" onmouseover="" onmouseout="">分享：</span></div><div style="display: none;" class="sharelist_new" id="fenxiangLayer"> <a class="slbg1" href="javascript:void(0);" data-cmd="qzone" onclick="">QQ空间</a> <a class="slbg2" href="javascript:void(0);" data-cmd="sqq" onclick="">QQ好友</a> <a class="slbg3" href="javascript:void(0);" data-cmd="tsina" onclick="">新浪微博</a> <a class="slbg4" href="javascript:void(0);" data-cmd="tqq" onclick="">腾讯微博</a> <a class="slbg5" href="javascript:void(0);" onclick="">推荐给朋友</a> </div><div style="position: absolute;display:none;z-index:1;left:143px;" id="fuzhitishidiv"></div></div>
                </div>
                <div id="articlecontent" class="article_container" onmousedown="" onmouseup="">
                    <table>
                        <tbody>
                            <tr>
                                <td id="artContent">
                                    <div style="font-family:Arial; line-height:26px; text-indent:180px; font-size:11pt; vertical-align:baseline; background-color:transparent"> 在测试，特别是性能测试或者系统的稳定性测试中，内存的使用情况是一个很重要的监控点，不管是从资源使用的角度还是从发现内存泄露问题的角度。</div>
<div style="font-family:Arial; line-height:26px; text-indent:180px; font-size:11pt; vertical-align:baseline; background-color:transparent">
<span style="font-size:11pt; vertical-align:baseline"><br>
如果笼统的来看，大概就是两个指标，系统的内存使用率和进程使用的内存。但是现实世界的事情往往没有那么简单，稍微细一点来看其实有很多的科目。本文不是一个全面的关于内存使用的探讨，甚至也不是一个详细的Linux下面进程内存使用情况的分析，尽管这里的实践是基于此的。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">这里想做的是稍微细节一点的来看Linux下一个进程的内存使用情况，包括栈和堆。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">首先我们从一个简单的C程序开始。且慢，先说一下我试验的环境。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">platform:  CentOS release 5.6 (Final)  Linux localhost.localdomain 2.6.18-238.19.1.el5xen #1 SMP Fri Jul 15 08:57:45 EDT 2011 i686 i686 i386 GNU/Linux</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">gcc version 4.1.2 20080704 (Red Hat 4.1.2-50)  </span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<strong>[root@localhost test]# cat simple_hello.c         </strong><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">#include &lt;stdio.h&gt;                                </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">int main()                                        </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">{                                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> int i,</span><strong>m = 1024, n = 0</strong><span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">,
 x;                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> int a[m];                                       </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> printf("assign %d values to a[%d]...\n", n, m);</span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> for (i = 0; i &lt; n; i++)                         </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> {                                               </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">   a[i] = 100;                                   </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> }                                               </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> printf("value assigned.\n");                                                               </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> scanf("%d", &amp;x);  /* to hold program.. */       </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> return 0;                                       </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">}                                                 </span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">真是一个很简单的程序，只比hello world复杂一点点。创建一个静态的数组，长度通过m来控制，然后选择性的给部分或者全部的元素赋值，通过n来控制。好吧，这个一个简单的程序能看出什么呢？那我们一起来看看。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">在Linux下面，查看一个进程的内存使用我们可以下面的命令来实现，只需把其中的[pid]换成进程实际的pid。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"># cat /proc/[pid]/status</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">为了方便，我们把查找pid和看内存整合成一条命令，后面这将是我们唯一的测试工具。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">cat /proc/`ps -ef|grep hello | grep -v grep | awk '{print $2}'`/status | grep -E 'VmSize|VmRSS|VmData|VmStk|VmExe|VmLib'</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">在这里我们关注VmSize|VmRSS|VmData|VmStk|VmExe|VmLib 这个6个指标，下面有一些简单的解释。</span><br>
<strong>VmSize(KB) ：</strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">虚拟内存大小。整个进程使用虚拟内存大小，是VmLib, VmExe, VmData, 和 VmStk的总和。</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<strong>VmRSS(KB)：</strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">虚拟内存驻留集合大小。这是驻留在物理内存的一部分。它没有交换到硬盘。它包括代码，数据和栈。</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<strong>VmData(KB)：</strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"> 程序数据段的大小（所占虚拟内存的大小），</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">堆使用的虚拟内存。</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<strong>VmStk(KB)： </strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap">任务在用户态的栈的大小，</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">栈使用的虚拟内存</span><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<strong>VmExe(KB)：</strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"> 程序所拥有的可执行虚拟内存的大小，代码段，不包括任务使用的库</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<strong>VmLib(KB) ：</strong><span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap">被映像到任务的虚拟内存空间的库的大小</span></p>
<span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<span style="font-size:11pt; color:rgb(51,51,51); vertical-align:baseline; white-space:pre-wrap"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">Ok, 测试开始了。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">首先，我们固定m的值为409600，相当于400K，因为数组的元素是int型，在我的环境里面是4Byte，所以真个数组的大小为1600KB。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">m固定化，我们不断调整n的大小，重写编译，执行，然后用上面的命令查看内存的使用情况，这样我们得到了下面这个表格。</span><img src="index_files/61709981_1.gif" alt="" style="border-style: none; max-width: 100%;"></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">从这里我们可以得到几个信息：</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">1. 静态的数组使用的空间被分配到VmStk，也就是栈区。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">2. 在数组没有初始化的时候并没有实际占用虚拟内存，看VmRss，但是整个虚拟内存的大小还是分配了，VmSize。</span></p>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">接下来我们做另一个测试，让n=m，调整m的大小，也就是说调整数组的大小，然后初始化所有的元素。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">这样我们得到了下面的表。</span></p>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<img src="index_files/61709981_2.gif" alt="" style="border-style: none; max-width: 100%;"><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">从这个表中，我们可以看出：</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">1. 栈的使用确实和数组的size相关，但是有个起始预分配的大小，应该是编译器的优化。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">2. VmRSS和VmSize跟着一起在涨。</span></p>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">嗯，是跟着在涨，但是有个问题，栈的空间是有限的，通过这个程序或者你查看系统的设置你可以找到上限。在我的这台机器上上限是</span><strong>8MB</strong><span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">，每个进程，所以这里如果m的值大于2048000，就会出segmentation
 fault的错误。当然你也可以调整系统的设置，比如通过</span></p>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"># ulimit -s 10240</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">将上限调为10MB。但是这个终究不能调得很大，因为对系统会有影响。所以编程中太大的静态数组不是有个好主意。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">栈的大小限制还是蛮严格的，好吧，那我们来看看程序可以使用的另一类存储空间，堆（heap）。关于堆和栈的区别可能是一个常被问道的问题，你在很多地方可以找到答案。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">OK，我们继续我们的实验，考虑到现在很多系统的后台用C++来写，我们也把测试程序换成C++的。好吧，我承认其实没有太大的区别，只是申请内存的方式不太一样了。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">[root@localhost test]# cat hello.cpp                   </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">#include &lt;iostream&gt;                                    </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">using namespace std;                                   </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">int main()                                             </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">{                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> cout&lt;&lt;"New some space for array, assign value"&lt;&lt;endl;</span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> int</span><strong>m = 409600, n = 409600;</strong><span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">
                          </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> int *p = new int[m];                                 </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> for (int i = 0; i &lt; n; i++)                          </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> {                                                    </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">   p[i] = 100;                                        </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> }                                                    </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> cout&lt;&lt;"value assigned."&lt;&lt;endl;                       </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">                                                      </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> int x;                                               </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> cin&gt;&gt;x;  //hold program                              </span><br>
<span style="font-size:11pt; color:rgb(11,83,148); vertical-align:baseline; white-space:pre-wrap; background-color:transparent">}</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">这个我们使用的是动态的数组，也就是说数组的内容空间是我们显式的通过new通过向系统申请的。测试工具还是上面的命令行。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">延迟我们的风格，首先固定m的值，这里是409600，400K，然后调整n的值，看情况是怎样的。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<img src="index_files/61709981_3.gif" alt="" style="border-style: none; max-width: 100%;"><br>
</p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">一些观察的结果：</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">1. VmData的大小约为1600KB，因为每个元素4Byte，系统还有一些别的使用。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">2. n控制有多少数组的元素被初始化，这也影响了VmRSS的大小。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">整个VmSize的大小并不受初始化范围的影响，这个结果和之前栈的实验中看到的现象很类似，只不过这里换成了VmData。</span></p>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">接下来我们让n=m，然后两个一起调整。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"><img src="index_files/61709981_4.gif" alt="" style="border-style: none; max-width: 100%;"><br>
</span></p>
</div>
<div style="font-family: Arial; line-height: 26px; text-indent: 180px; vertical-align: baseline; background-color: transparent;">
<br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline">可以看出:</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">1. VmData的size在增长，VmRSS也在跟着一起增长。但是VmRSS一开始分配的余量就比较大，所以VmData刚开始的增长并未立即导致VmSize的改变。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">2. VmSize也跟着一起增长，应该的。</span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">请注意这里发生了一些很奇怪的现象，那就是当m=40960的时候，你会发现VmData的值比m=20480的时候还要小，很不正常。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">实验了很多次，我发现在一个特定的区间里面VmData并未按照m的值增长，而且下降了，然后又开始增长。和同事一起check了一下，目前的解释是装载程序做了一些tricky的事情，也可能是某种优化，具体的还不是很清楚。</span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">在实际的产品代码，特别是后台的Linux服务器程序中，通常会大量的申请和释放内存，动态的，使用的就是我们这里提到的VmData，堆上的内存。Ok，你知道了，我要说的是memory leak的问题。通过观察VmData和VmRSS，我们能够很明确的察觉内存泄露的问题。</span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"><br>
前面在分析栈的时候我们提到了系统对栈的大小有上限，比如我的系统默认是8MB。那么有个问题就是，那么堆呢？</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">嗯，这个部分其实就涉及到操作系统的内存管理的策略和方法，是个很大的问题，推荐看一下《深入理解计算机系统》相关的章节或者关于现代的操作系统的书籍。这里我们简单做了一下实验。</span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">我的实验机器的内存是1GB，一个Linux的虚拟机。</span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">当我们设置 m = n = 204800000的时候，相当于要申请800MB的内存。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">我们产品status的时候发现VmData &gt; VmRSS, 这在前面m=n的情况下从来没有出现过。</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="text-indent:180px">VmSize:   802784 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="text-indent:180px">VmLck:         0 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="text-indent:180px">VmHWM:    684384 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-weight:bold; text-indent:180px">VmRSS:    676808 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:-4.5pt">
<span style="font-weight:bold; text-indent:180px">VmData:   800064 kB</span></p>
<br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">所以一定是有些事情发生变化了。于是我们看了一下系统的内存，以及SWAP的使用情况。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> Mem:    900096k total,   893180k used,     6916k free,     1012k buffers</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"> Swap:  2096472k total,   </span><strong>147320k used</strong><span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">,
  1949152k free,    33012k cached</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">发现系统的物理内存已经快用了，还留了一些给系统，然后开始使用SWAP了，大家知道这里的SWAP其实是磁盘文件。</span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">在这种情况下，我们也许可以更容易理解驻留内存的意义，以及为什么内存不够会导致性能的明显下降。</span><br>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">如果进一步把m=n加到300M，也是申请1.2GB的内存（已经大于所有物理内存的数目），可能会更明显。</span><br>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">VmSize:  1202784 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">VmLck:         0 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">VmHWM:    814064 kB</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<strong>VmRSS:    793588 kB</strong></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<strong>VmData:  1200064 kB</strong><span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent"></span></p>
<span style="vertical-align:baseline; white-space:pre-wrap; font-size:11pt; background-color:transparent"></span><br>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; font-size:11pt; text-indent:9pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">Mem:    900096k total,   894128k used,     5968k free,     1104k buffers</span></p>
<p dir="ltr" style="margin-top:0pt; margin-bottom:0pt; padding-top:0px; padding-bottom:0px; text-indent:9pt">
<span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">Swap:  2096472k total,   </span><strong>541812k used</strong><span style="font-size:11pt; vertical-align:baseline; white-space:pre-wrap; background-color:transparent">,
  1554660k free,    13616k cached</span></p>
<div style="text-indent:12px"><span style="text-indent:180px"><br>
</span></div>
<div style="text-indent:12px"><span style="text-indent:180px">通过这几个小的例子，会发现就是内存使用这样一个指标其实背后都会有很多值得去了解和探讨的细节，其实这里谈到的也只是冰山一角。只有了解并理解了这些重要的细节，我们在测试中去评估我们的产品的时候才会更加的准备，更容易发现和定位问题。另外不要忘记实际中的产品比这两个豆腐块程序要复杂得多。</span></div>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="viewerPlaceHolder" style="width: 717px; height: 700px; display: none; margin: 0 auto;">
                    </div>
                </div>
                <table>
                    <tbody>
                        <tr>
                            <td>
                                <ul></ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div></div>
                <span></span>
                <a></a>
                <p style="margin: 0; padding: 0;"></p>
                <p class="clearboth"></p>
                <div data-bd-bind="1464070234140" class="bdsharebuttonbox bottombtn bdshare-button-style0-16">
                    <div class="zcommond" style="overflow: visible;">
                        <a href="javascript:void(0);" class="btn_collect" onclick="">转藏到我的图书馆</a>
                        <a id="flowimg3" href="javascript:void(0);" class="btn_good" onclick="">献花（<span id="articleflowernum">0</span>）
                        <span id="flowernumadd" style="display: none;">+1</span>

                        </a>
                        <span class="span1 f_left" onclick="" onmouseover="" onmouseout="">分享：</span>
                        <a class="sharewx f_left" href="javascript:void(0);" onclick="">微信</a>
                        <div class="s2 f_left" onclick=""><span></span></div>
                    </div>
                    <div style="display: none;" class="sharelist_new" id="fenxiangLayer2">
                        <a class="slbg1" href="javascript:void(0);" data-cmd="qzone" onclick="">QQ空间</a>
                        <a class="slbg2" href="javascript:void(0);" data-cmd="sqq" onclick="">QQ好友</a>
                        <a class="slbg3" href="javascript:void(0);" data-cmd="tsina" onclick="">新浪微博</a>
                        <a class="slbg4" href="javascript:void(0);" data-cmd="tqq" onclick="">腾讯微博</a>
                        <a class="slbg5" href="javascript:void(0);" onclick="">推荐给朋友</a>
                    </div>
                </div>
                <div class="bottom_controler">
                    <p class="bottom_cleft">
                        来自：
                         <span class="a_username" style="width: auto;" onclick="">
                             <a href="http://www.360doc.com/userhome/17283" id="savernickname2" target="_blank">erran</a>
                         </span>
                        &gt; 
                        <span id="cname" class="a_from" onclick=""><a href="http://www.360doc.com/userhome.aspx?userid=17283&amp;cid=6" target="_blank">《Linux》</a></span>
                    </p>
                    <div class="bottom_cright">
                        <a href="https://www.baidu.com/s?wd=vmdata+%e5%86%85%e5%ad%98+kb&amp;tn=SE_hldp01010_6r0gix1f" target="_blank" class="a1" onclick="">以文找文</a>
                          |  
                        <a href="javascript:void(0);" class="a2" onclick="">举报</a>
                    </div>
                </div>
                <div class="prev_next">
                    <p style="display: block;" id="lastart" class="p1"> 上一篇：<a onclick="" href="http://www.360doc.com/content/15/1117/16/17283_513858942.shtml" target="_blank">[原创] 静态编译web server Appweb(带Matrixssl支持) For ARM9+ linux</a></p>
                    <p style="display: block;" id="nextart" class="p2"> 下一篇：<a onclick="" href="http://www.360doc.com/content/15/1119/15/17283_514327455.shtml" target="_blank">table里每一行都有一个checkbox,选中一行后,怎么得到该行特定或者所有TD数据</a></p>
                </div>
            </div>
            <p class="clearboth"></p>
            <div style="width: 676px; float: left;">
                <div class="str_border" style="border: none; position: relative; z-index: 2;">
                    <strong>猜你喜欢</strong>
                </div>
                <ul class="youlike" style="margin-top: -18px; position: relative; z-index: 1;">
                    <iframe src="index_files/adbaiduyoulike.html" id="youlikead" style="width: 676px; height: 280px; border: 0;" scrolling="no" frameborder="0"></iframe>
                </ul>
                <div class="zcommond" style="padding: 10px 0 20px;">
                    <div class="bottom_article f_left">
                        <div class="str_border">
                            <strong>类似文章</strong>
                            <a href="http://www.360doc.com/relevant/514054063_more.shtml" target="_blank" class="a_more f_right" onclick="">更多</a>
                        </div>
                        <ul class="barticle_list">
                            
                                    <li><span><a href="http://www.360doc.com/content/12/0319/19/87000_195740276.shtml" target="_blank" onclick="">android proc 进程信息解析</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/12/0405/19/1671317_201191525.shtml" target="_blank" onclick="">linux下查看进程内存使用情况</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/10/1116/09/4330887_69754428.shtml" target="_blank" onclick="">linux下查看内存使用情况</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/12/0606/19/1317564_216461393.shtml" target="_blank" onclick="">分配的堆内存给Int型数组怎么使用？</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/12/0513/20/9537713_210775845.shtml" target="_blank" onclick="">监视Rails进程内存泄漏的技巧</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/10/1222/17/160483_80437257.shtml" target="_blank" onclick="">虚拟内存最佳设置</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/13/0505/11/7865017_283088411.shtml" target="_blank" onclick="">怎样把握虚拟内存的大小与设置</a></span></li>
                                
                                    <li><span><a href="http://www.360doc.com/content/12/0401/21/1671317_200072996.shtml" target="_blank" onclick="">oom killer</a></span></li>
                                
                        </ul>
                    </div>
                    <div class="bottom_article f_right">
                        <div class="str_border">
                            <strong>精选文章</strong>
                        </div>
                        <ul class="barticle_list">
                            
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0307/10/7010028_358446279.shtml" target="_blank">教你如何混职场：明白职场中的潜规则，会让你工作顺风顺水</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0406/12/2028407_366757841.shtml" target="_blank">太平间里的守望者</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0418/13/14447728_370031047.shtml" target="_blank">图解0-3岁宝宝成长轨迹</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0429/14/3397672_373207217.shtml" target="_blank">“德国式”阅读中国能借鉴吗？</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0411/16/502486_368064281.shtml" target="_blank">中国符号，太美了！</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/15/1120/01/2253722_514450336.shtml" target="_blank">男人拼命也要离婚的5大理由</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0425/22/15602851_372240826.shtml" target="_blank">看书治疗自卑的唯一方法，那些让你变得更有趣、更聪明的书</a></span></li>
                                
                                    <li><span><a onclick="" href="http://www.360doc.com/content/14/0218/05/547411_353399781.shtml" target="_blank">漂亮姑娘嫁不出去</a></span></li>
                                
                        </ul>
                    </div>
                </div>
                
                <iframe src="index_files/underzcommond.html" id="underZcommondAd" style="width: 676px; height: 202px;" scrolling="no" frameborder="0"></iframe>
                <div class="zcommond" style="margin-top: 10px;">
                    
                    <div class="f_left" style="width: 300px; height: 90px;">
                        <iframe src="index_files/aboveReflectionAd1.html" id="aboveReflectionAd1" scrolling="no" frameborder="0"></iframe>
                    </div>
                    
                    <div class="f_left" style="width: 300px; height: 90px; margin-left: 44px;">
                        <iframe src="index_files/aboveReflectionAd2.html" id="aboveReflectionAd2" scrolling="no" frameborder="0"></iframe>
                    </div>
                </div>

                <p></p>
                <div id="ReflectionPart"><div style="margin: 0px 0px;"><div class="plbox" style="height:auto;"><div class="plmain"><div style="height: 23px;" class="titwx">发表评论：</div><div class="deluwx">      请 <span><a onclick="" href="javascript:void(0);">登录</a></span> 或者 <span><a onclick="" href="http://www.360doc.com/register.aspx?refer=53&amp;reurl=showweb/0/0/54400091122.aspx" target="_blank">注册</a></span> 后再进行评论</div><div class="rt360" style="height: 26px;margin:-22px 170px 0 0;_display:inline;"><span class="dsfwz">社交帐号登录：</span><a class="dsftb sf1" href="javascript:void(0);" onclick="" title="新浪微博"></a><a class="dsftb sf2 " onclick="" href="javascript:void(0);" title="腾讯QQ"></a><a class="dsftb sf3" href="javascript:void(0);" onclick="" title="微信"></a></div></div></div></div></div>
                <div style="padding-top: 15px; padding-left: 15px;" id="Reflction"><div id="360docRefTN" class="wenzhang_bt" style="display:none;"></div><div id="360docRefCT"></div><div style="display: none;" id="360docRefPB"></div></div>
            </div>
        </div>
        <div class="a_right">
            <div class="user_info">
                <div class="user_photo f_left">
                    <p class="user_photopic">
                        <a href="http://www.360doc.com/userhome/17283" id="userphotourl" target="_blank" onclick="">
                            <img src="index_files/008.gif" id="userphoto" height="58" width="58">
                        </a>
                    </p>
                    <a href="javascript:void(0);" onclick="" class="user_talk" title="与TA对话"></a>
                </div>
                <div class="user_data f_right">
                    <div class="user_data_name">
                        <a href="http://www.360doc.com/userhome/17283" id="nickname" target="_blank" onclick="">erran</a>
                        <img src="index_files/user_name_tag.gif" alt="图书馆">
                    </div>
                    <p id="userdegree"><img src="index_files/userstar1.gif"><img src="index_files/userstar1.gif"><img src="index_files/userstar1.gif"><img src="index_files/userstar3.gif"><img src="index_files/userstar3.gif"></p>
                    <div class="user_data_num">
                        <a id="spanfollowstatus" class="gz_no"></a>
                        <script type="text/javascript"><!--
/* Script removed by snapshot save */
--></script>
                        <span id="follownum">4</span>    
                        <span>馆藏</span> <span id="artnum">226</span>
                    </div>
                </div>
            </div>
            <div class="his_her"><ul class="his_her_type"><li class="f_left curone">TA的最新馆藏</li></ul><div class="his_her_div" style="height:190px;"><ul class="his_her_list"><li><div><span></span><a href="http://www.360doc.com/content/15/1222/22/17283_522390883.shtml" target="_blank" onclick="">windows驱动开发学习&amp;lt;1&amp;gt;</a></div><div><span></span><a href="http://www.360doc.com/content/15/1222/21/17283_522380946.shtml" target="_blank" onclick="">驱动程序中文件，定时器，IO</a></div><div><span></span><a href="http://www.360doc.com/content/15/1222/21/17283_522379075.shtml" target="_blank" onclick="">驱动程序安装类(C#)</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/18/17283_520388545.shtml" target="_blank" onclick="">Windows7+WDK+VS2010+VisualDDK驱动开发环境搭建</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/13/17283_520319809.shtml" target="_blank" onclick="">驱动程序环境搭配（VS2010 + WDK + VirtualDDK + VMware）</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/13/17283_520319695.shtml" target="_blank" onclick="">VS2010+VMWare8+VisualDDK1.5.6 创建并调试你的第一个驱动程序</a></div></li></ul></div></div>





<div class="both" style="padding-top: 10px; height: 260px;">
    <iframe src="index_files/artadali1.html" id="ifartad1" scrolling="no" frameborder="0" height="250px" width="250px"></iframe>
    <div style="height: 10px;">
    </div>
</div>

<div class="his_her" id="recommendArt" style="margin-top: 5px;">
    <div class="str_border" style="margin: 0;">
        <span style="font-size: 14px; float: left;">推荐阅读</span>
        <a style="float: right;" class="a_more" onclick="" href="http://www.360doc.com/readroom.html" target="_blank">更多</a>
    </div>
    <div class="his_her_div" style="height: 264px;">
        <ul class="his_her_list">
            <li id="recommendArtLists"><div><span></span><a href="http://www.360doc.com/content/15/1222/10/17283_522390883.shtml" target="_blank" onclick="">windows驱动开发学习&lt;1&gt;</a></div><div><span></span><a href="http://www.360doc.com/content/15/1222/09/17283_522379075.shtml" target="_blank" onclick="">驱动程序安装类(C#)</a></div><div><span></span><a href="http://www.360doc.com/content/15/1207/03/17283_518540828.shtml" target="_blank" onclick="">源码编译安装MySQL5.6.16 | 东东东  陈煜东的博客</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/01/17283_520319695.shtml" target="_blank" onclick="">VS2010+VMWare8+VisualDDK1.5.6 创建并调试你的第一个驱动程序</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/01/17283_520319809.shtml" target="_blank" onclick="">驱动程序环境搭配（VS2010 + WDK + VirtualDDK + VMware）</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/08/17283_520235881.shtml" target="_blank" onclick="">WinCE虚拟串口驱动(二)</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/09/17283_520254697.shtml" target="_blank" onclick="">VS2010 + WinDDK 搭建驱动开发环境</a></div><div><span></span><a href="http://www.360doc.com/content/15/1214/09/17283_520254749.shtml" target="_blank" onclick="">Windows 7 + Visual 2010 + WDK 7600.16385.1 配置方法</a></div><div><span></span><a href="http://www.360doc.com/content/15/1126/03/17283_516059957.shtml" target="_blank" onclick="">make常见错误</a></div></li>
        </ul>
    </div>
</div>



<div class="both" style="padding-top: 10px;">
    <iframe src="index_files/artadali2.html" id="ifartad2" scrolling="no" frameborder="0" height="250" width="250"></iframe>
</div>
<br>


<iframe src="index_files/artrightadsogou300.html" id="ifartrightsogou" scrolling="no" frameborder="0" height="190" width="300px"></iframe>



            <div class="both" id="divad5" style="padding-top: 11px; width: 300px;">
                <div id="divad4" style="display: none; width: 250px; margin: 0px auto;">
                    <div>
                        
                        <iframe src="index_files/artadali.html" id="ifartad" scrolling="no" frameborder="0" height="250px" width="250px"></iframe>
                    </div>
                    <div class="ggwz">
                        <a href="javascript:void(0);" onclick="">关闭</a>
                    </div>
                    <div style="height: 13px;">
                    </div>
                </div>
                <div style="clear: both; display: none;" id="divad6">
                    <div id="adfloatbaidu">
                        <iframe src="index_files/ad5.html" id="ifartadfloadbaidu" scrolling="no" frameborder="0" height="250px" width="250px"></iframe>
                    </div>
                    <div class="ggwz" style="left: 25px;">
                        <a href="javascript:void(0);" onclick="">关闭</a>
                    </div>
                    <div style="height: 13px;">
                    </div>
                </div>
                <div style="height: 75px;">
                </div>
            </div>
        </div>
    </div>
    <p class="clearboth"></p>
    <input id="docarttitle" value="Linux%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e6%9f%a5%e8%af%a2%e6%96%b9%e6%b3%95proc%2fstatus%e8%a7%a3%e9%87%8a" type="hidden">
    <input id="firstartid" value="514054063" type="hidden">
    <input id="artreadroomid" value="0" type="hidden">
    <script src="index_files/StickySystem20160414.js" type="text/javascript" charset="utf-8"></script>
    <script><!--
/* Script removed by snapshot save */
--></script>


<div style="left: 1205.5px;" id="goTop2"><div id="goTop"><a href="#" id="go_top"></a></div><div id="goTop1"><a href="javascript:void(0);" id="go_top1"></a></div><div></div></div></body></html>